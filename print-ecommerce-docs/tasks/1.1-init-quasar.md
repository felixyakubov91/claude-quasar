# Task 1.1: Initialize Quasar Project

## Goal
Create a new Quasar project configured for SSR mode with Vue 3, TypeScript, Pinia, and SCSS.

## Prerequisites
- Node.js 18+ installed
- npm or yarn available

## Instructions

### Step 1: Create Quasar Project

```bash
cd /path/to/projects
npm init quasar

# Select the following options:
# - What would you like to build? → App with Quasar CLI
# - Project folder: → frontend
# - Pick Quasar version: → Quasar v2 (Vue 3 | latest and greatest)
# - Pick script type: → TypeScript
# - Pick Quasar App CLI variant: → Quasar App CLI with Vite
# - Package name: → print-ecommerce-frontend
# - Pick a Vue component style: → Composition API with <script setup>
# - Pick your CSS preprocessor: → Sass with SCSS syntax
# - Check features needed: → ESLint, State Management (Pinia)
# - Pick an ESLint preset: → Prettier
# - Install project dependencies? → Yes, use npm
```

### Step 2: Enable SSR Mode

Edit `frontend/quasar.config.js`:

```javascript
// https://quasar.dev/quasar-cli-vite/quasar-config-file
import { configure } from 'quasar/wrappers';

export default configure((/* ctx */) => {
  return {
    // Enable SSR mode
    ssr: {
      pwa: false,
      prodPort: 3000,
      middlewares: [
        'render' // keep this as last one
      ]
    },

    // Boot files
    boot: [
      'i18n',
      'axios'
    ],

    // CSS files
    css: [
      'app.scss'
    ],

    // Quasar extras
    extras: [
      'roboto-font',
      'material-icons',
    ],

    // Build configuration
    build: {
      target: {
        browser: ['es2019', 'edge88', 'firefox78', 'chrome87', 'safari13.1'],
        node: 'node18'
      },
      vueRouterMode: 'history',
      env: {
        STRAPI_URL: process.env.STRAPI_URL,
        SUPABASE_URL: process.env.SUPABASE_URL,
        SUPABASE_ANON_KEY: process.env.SUPABASE_ANON_KEY,
        CLOUDINARY_CLOUD_NAME: process.env.CLOUDINARY_CLOUD_NAME,
      }
    },

    // Dev server configuration
    devServer: {
      open: true
    },

    // Quasar framework configuration
    framework: {
      config: {
        dark: 'auto'
      },
      plugins: [
        'Notify',
        'Dialog',
        'Loading',
        'Meta',
        'Cookies'
      ]
    },

    // Animations
    animations: [],

    // Source files
    sourceFiles: {
      rootComponent: 'src/App.vue',
      router: 'src/router/index',
      store: 'src/stores/index',
      pwaRegisterServiceWorker: 'src-pwa/register-service-worker',
      pwaServiceWorker: 'src-pwa/custom-service-worker',
      pwaManifestFile: 'src-pwa/manifest.json',
      electronMain: 'src-electron/electron-main',
      electronPreload: 'src-electron/electron-preload'
    },
  };
});
```

### Step 3: Create Environment Files

Create `frontend/.env.example`:

```env
# Strapi Backend
STRAPI_URL=http://localhost:1337

# Supabase Auth
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key

# Cloudinary
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key

# PayPlus
PAYPLUS_API_KEY=your-api-key
PAYPLUS_SECRET_KEY=your-secret-key
PAYPLUS_PAGE_UID=your-page-uid

# Google Analytics
GA_MEASUREMENT_ID=G-XXXXXXXXXX
```

Create `frontend/.env` (copy from example and fill in values for development):

```bash
cp frontend/.env.example frontend/.env
```

### Step 4: Update TypeScript Configuration

Edit `frontend/tsconfig.json` to add strict mode and path aliases:

```json
{
  "extends": "@quasar/app-vite/tsconfig-preset",
  "compilerOptions": {
    "strict": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "components/*": ["src/components/*"],
      "composables/*": ["src/composables/*"],
      "stores/*": ["src/stores/*"],
      "services/*": ["src/services/*"],
      "types/*": ["src/types/*"]
    }
  }
}
```

### Step 5: Verify SSR Works

```bash
cd frontend
npm run dev
# Should start SSR dev server on http://localhost:9000
```

Visit the URL and verify:
1. Page loads correctly
2. View page source shows rendered HTML (SSR working)

## Files Created
- `frontend/quasar.config.js`
- `frontend/package.json`
- `frontend/tsconfig.json`
- `frontend/.env.example`
- `frontend/.env`
- `frontend/src/` (standard Quasar structure)

## Acceptance Criteria
- [ ] `npm run dev` starts without errors
- [ ] SSR mode active (view-source shows HTML content)
- [ ] Pinia store initializes correctly
- [ ] TypeScript compiles without errors
- [ ] Environment variables accessible in app
